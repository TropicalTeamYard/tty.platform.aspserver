using Microsoft.Extensions.Configuration;
using MySql.Data.MySqlClient;
using Newtonsoft.Json;
using Newtonsoft.Json.Linq;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Threading.Tasks;
using tty.Model;
using tty.Util;

namespace tty.Configs
{
    internal static class Config
    {
        internal static IConfiguration Configuration { get; set; }
        internal static string Conn => Configuration.GetConnectionString("ttyplatform");
        internal static MySqlProvider MySqlProvider => new MySqlProvider(new MySqlConnection(Conn));

        internal static string UserCreditTable => "usercredit";
        internal static string CourseTable => "course";
        internal static string UserInfoTable => "userinfo";
        internal static string MsgBoardTable => "msgboard";
        internal static string ChatTable => "chattable";
        internal static string EncryptKey => "LAVERALSTARDANDMDS7024200345IEVS";
        internal static AesAddin Aes => new AesAddin(EncryptKey);
        #region 默认用户头像
        internal static string defaultportrait = "FFD8FFE000104A46494600010101009000900000FFE1005A4578696600004D4D002A00000008000503010005000000010000004A03030001000000010000000051100001000000010100000051110004000000010000162551120004000000010000162500000000000186A00000B18FFFDB0043000201010201010202020202020202030503030303030604040305070607070706070708090B0908080A0807070A0D0A0A0B0C0C0C0C07090E0F0D0C0E0B0C0C0CFFDB004301020202030303060303060C0807080C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0CFFC00011080040004003012200021101031101FFC4001F0000010501010101010100000000000000000102030405060708090A0BFFC400B5100002010303020403050504040000017D01020300041105122131410613516107227114328191A1082342B1C11552D1F02433627282090A161718191A25262728292A3435363738393A434445464748494A535455565758595A636465666768696A737475767778797A838485868788898A92939495969798999AA2A3A4A5A6A7A8A9AAB2B3B4B5B6B7B8B9BAC2C3C4C5C6C7C8C9CAD2D3D4D5D6D7D8D9DAE1E2E3E4E5E6E7E8E9EAF1F2F3F4F5F6F7F8F9FAFFC4001F0100030101010101010101010000000000000102030405060708090A0BFFC400B51100020102040403040705040400010277000102031104052131061241510761711322328108144291A1B1C109233352F0156272D10A162434E125F11718191A262728292A35363738393A434445464748494A535455565758595A636465666768696A737475767778797A82838485868788898A92939495969798999AA2A3A4A5A6A7A8A9AAB2B3B4B5B6B7B8B9BAC2C3C4C5C6C7C8C9CAD2D3D4D5D6D7D8D9DAE2E3E4E5E6E7E8E9EAF2F3F4F5F6F7F8F9FAFFDA000C03010002110311003F00FDFCA28A2800A29B248B0C6CCCCAAAA3249380057C03F1DFFE0E36F81FF093C6B79A268BA7F8ABC72D612BC32DFE970C31D8BB2920F9724922990647DE55DA4720918A00FD00A2BE47FD89BFE0B4DF06FF006DFF001C43E13D225D73C2FE2DBADE6D34CD72D9233A86D52CDE4CB1BBC6C428276B157386C29009AFAE2800A28A2800A28A2803E71FF82BAF8F6F3E1B7FC136BE2E6A9613C96D74DA2FD80488DB5956EA68AD9B07B1DB330CD7F3435FD2FF00FC15C7E1BDFF00C57FF826F7C5AD1F4D865B8BC1A30D412289773C82D268AE9801DC9585B81C9E832702BF9A0A00E83E147C40BCF84FF147C37E28D3E468AFFC37AA5B6A96CEA76959219564539C1EEA3B1AFEB32BF933F84FF0EEFBE2EFC51F0EF8574B8649F50F126A76FA65B4718CB33CD22C631F8B57F5951C6B146AABC2A8C01E82801D451450014515F30FFC14C7FE0A7FE13FF8273FC3EB596F2D7FE121F19EBAADFD8FA1C5308CB81C19E76E4C70A9E32012CDC01C332807D393429710B4722AC91C80AB2B0CAB03D4115FCF7FFC16D7FE09C5A37EC1DF1BF4CD53C29A85B37847E2049777561A473F68D0DE2311921CF21A1FDF2F96C4EEC06520EDDEDE6FFB4BFF00C15B7E3DFED49AA5C36B3E3DD5B44D26666D9A46812B69B6512120EC22321E50303065773EFCD7CE1717325DCED24D23CB239CB3BB16663EE6803F5FBFE0DE7FF826CE8375E1CD2FF684F10DFD8EB3A8CCD756FE1FD25630EBA43C733C0D75293FF2D898DC20030AADBB2588D9FAD75FC91786BC55AA7833598751D1F52BFD2750B7398AEACEE1E09A23EAAEA411F81AFB33F63FFF0082F37C70FD9B358B3B5F126B32FC4DF0A2BA8B8B1D764F32F953F88C37983287C018F34C8A31F74124D007F4234579BFECA3FB54F843F6CBF827A5F8F3C1578F75A4EA398E586650B73A7DC2E3CCB799013B645C8C8C9041565255949F48A002BE1BFDBDBFE088BA27EDEFFB415C78FB5BF88DE22D1E492CA0B0B7D3E0B28E686D22894F0859B3F33B3B9181CB9AFB928A00FCB2FF00885C3C13FF00455FC53FF82A83FF008AA3FE2170F04FFD157F14FF00E0AA0FFE2ABF5368A00FCB2FF885C3C13FF455FC53FF0082A83FF8AA3FE2170F04FF00D157F14FFE0AA0FF00E2ABF5368A00F993FE09B3FF0004D7B1FF00826FE81E2AD2F4AF1A6B1E29D3BC51716F77E45EDAA40B652C6AEACE9B49C9915901CFFCF25AFA6E8A2803FFD9";
        #endregion


        internal static TermTimeUni[] GetTimeConfig()
        {
            string path = AppDomain.CurrentDomain.BaseDirectory + @"\userconfig.json";
            JObject jObject = (JObject)JsonConvert.DeserializeObject(File.ReadAllText(path));
            TermTimeUni[] terms = jObject["TermTime"].ToObject<TermTimeUni[]>();
            return terms;
        }
    }
}

